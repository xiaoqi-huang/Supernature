{% extends 'layout.html' %}
{% block externalCss %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/blog.css') }}" media="screen" />
{% endblock %}
{% block body %}
    {% for message in get_flashed_messages() %}
        <div class="flash">{{ message }}</div>
    {% endfor %}
    <div style="margin-left: 3%; margin-right: 3%">
        {% if show_add_link %}
            <a href="{{ url_for('blog.blog_add') }}">写一篇吧？</a>
        {% endif %}
        <ul id="blog-list">
            {% for blog in blog_list %}
                <li>
                    <span class="blog-title"><a href="{{ url_for('blog.blog_content', aid=blog['aid']) }}">{{ blog['title'] }}</a></span>
                    <span class="blog-info">
                        <span class="blog-author"><a href="{{ url_for('auth.profile', uid=blog['uid']) }}">{{ blog['author'] }}</a></span>
                        <span class="blog-time time">{{ blog['create_time'] }}</span>
                    </span>
                </li>
            {% endfor %}
        </ul>
    </div>
    <script type=text/javascript src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script type=text/javascript src="{{ url_for('static', filename='js/blog.js') }}"></script>
{% endblock %}
